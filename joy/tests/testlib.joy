(* 
 * testlib.joy -- modified from inicheck.joy by Eric Bavier
 * inicheck.joy -- primitive unit test combinators.
 *
 *   Test routines that make use of only Joy primitives, so that the
 *   standard library routines may be tested.
 *
 *   Copyright Eric Bavier <address@hidden>
 *
 *   This source is released under the terms of the GNU General Public
 *  License, version 3, or at your option any later version.
 *)

 _testlib == true;

MODULE test

PUBLIC

primitive == putchars " " putchars ["pass" putchars newline] ["fail" putchars newline] branch;

satisfies == swap putchars [] swap infra;

?	==	infra uncons pop 
		["pass" putchars newline] ["fail" putchars newline]
		choice [] swap infra pop;

primitives-check == "tests/test_primitives.joy" include;

base-check == "tests/test_base.joy" include;

joy-check == test.primitives-check test.base-check;

END

"testlib is loaded"  putchars newline.



